{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/find-RLB/find-rlb/frontend/config/api.ts"],"sourcesContent":["// API Configuration\r\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://127.0.0.1:8000';\r\n\r\nexport const API_ENDPOINTS = {\r\n  // Auth endpoints\r\n  REGISTER: `${API_BASE_URL}/api/auth/register/`,\r\n  LOGIN: `${API_BASE_URL}/api/auth/login/`,\r\n  LOGOUT: `${API_BASE_URL}/api/auth/logout/`,\r\n  VERIFY: `${API_BASE_URL}/api/auth/verify/`,\r\n  REFRESH: `${API_BASE_URL}/api/auth/refresh/`,\r\n  PROFILE: `${API_BASE_URL}/api/auth/profile/`,\r\n\r\n  // Property endpoints\r\n  PROPERTIES: `${API_BASE_URL}/api/properties/`,\r\n\r\n  // Tenant endpoints\r\n  TENANTS: `${API_BASE_URL}/api/tenants/`,\r\n\r\n  // Landlord endpoints\r\n  LANDLORD_LISTINGS: `${API_BASE_URL}/api/landlord/listings/`,\r\n  LANDLORD_PRICING: `${API_BASE_URL}/api/landlord/pricing/`,\r\n  LANDLORD_SCHEDULES: `${API_BASE_URL}/api/landlord/schedules/`,\r\n  LANDLORD_HISTORY: `${API_BASE_URL}/api/landlord/history/`,\r\n  LANDLORD_ANALYTICS: `${API_BASE_URL}/api/landlord/analytics/`,\r\n\r\n  // Service endpoints\r\n  SERVICE_MOVERS: `${API_BASE_URL}/api/service/movers/`,\r\n  SERVICE_BOOKINGS: `${API_BASE_URL}/api/service/bookings/`,\r\n  SERVICE_MAINTENANCE: `${API_BASE_URL}/api/service/maintenance/`,\r\n  SERVICE_STORAGE: `${API_BASE_URL}/api/service/storage/`,\r\n  SERVICE_INVENTORY: `${API_BASE_URL}/api/service/inventory/`,\r\n};\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;AACb,MAAM,eAAe,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAExD,MAAM,gBAAgB;IAC3B,iBAAiB;IACjB,UAAU,GAAG,aAAa,mBAAmB,CAAC;IAC9C,OAAO,GAAG,aAAa,gBAAgB,CAAC;IACxC,QAAQ,GAAG,aAAa,iBAAiB,CAAC;IAC1C,QAAQ,GAAG,aAAa,iBAAiB,CAAC;IAC1C,SAAS,GAAG,aAAa,kBAAkB,CAAC;IAC5C,SAAS,GAAG,aAAa,kBAAkB,CAAC;IAE5C,qBAAqB;IACrB,YAAY,GAAG,aAAa,gBAAgB,CAAC;IAE7C,mBAAmB;IACnB,SAAS,GAAG,aAAa,aAAa,CAAC;IAEvC,qBAAqB;IACrB,mBAAmB,GAAG,aAAa,uBAAuB,CAAC;IAC3D,kBAAkB,GAAG,aAAa,sBAAsB,CAAC;IACzD,oBAAoB,GAAG,aAAa,wBAAwB,CAAC;IAC7D,kBAAkB,GAAG,aAAa,sBAAsB,CAAC;IACzD,oBAAoB,GAAG,aAAa,wBAAwB,CAAC;IAE7D,oBAAoB;IACpB,gBAAgB,GAAG,aAAa,oBAAoB,CAAC;IACrD,kBAAkB,GAAG,aAAa,sBAAsB,CAAC;IACzD,qBAAqB,GAAG,aAAa,yBAAyB,CAAC;IAC/D,iBAAiB,GAAG,aAAa,qBAAqB,CAAC;IACvD,mBAAmB,GAAG,aAAa,uBAAuB,CAAC;AAC7D"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/find-RLB/find-rlb/frontend/services/api.ts"],"sourcesContent":["import { API_ENDPOINTS } from '../config/api';\r\n\r\ninterface ApiResponse<T = any> {\r\n  success: boolean;\r\n  data?: T;\r\n  error?: string;\r\n  errors?: any;\r\n}\r\n\r\ninterface AuthTokens {\r\n  access: string;\r\n  refresh: string;\r\n}\r\n\r\ninterface AuthUser {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  role: 'tenant' | 'landlord' | 'service_provider' | 'admin';\r\n  is_verified: boolean;\r\n  created_at: string;\r\n}\r\n\r\ninterface AuthResponse {\r\n  access: string;\r\n  refresh: string;\r\n  user: AuthUser;\r\n}\r\n\r\n// Token management\r\nconst getTokens = (): AuthTokens | null => {\r\n  if (typeof window === 'undefined') return null;\r\n  const access = localStorage.getItem('access_token');\r\n  const refresh = localStorage.getItem('refresh_token');\r\n  return access && refresh ? { access, refresh } : null;\r\n};\r\n\r\nconst setTokens = (tokens: AuthTokens) => {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.setItem('access_token', tokens.access);\r\n  localStorage.setItem('refresh_token', tokens.refresh);\r\n};\r\n\r\nconst clearTokens = () => {\r\n  if (typeof window === 'undefined') return;\r\n  localStorage.removeItem('access_token');\r\n  localStorage.removeItem('refresh_token');\r\n  localStorage.removeItem('user');\r\n};\r\n\r\n// Generic API fetch function\r\nasync function apiCall<T = any>(\r\n  url: string,\r\n  options: RequestInit = {},\r\n  includeAuth: boolean = true\r\n): Promise<ApiResponse<T>> {\r\n  try {\r\n    const headers: any = {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    };\r\n\r\n    // Add auth token if available\r\n    if (includeAuth) {\r\n      const tokens = getTokens();\r\n      if (tokens?.access) {\r\n        headers['Authorization'] = `Bearer ${tokens.access}`;\r\n      }\r\n    }\r\n\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      headers,\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return {\r\n        success: false,\r\n        error: data?.detail || data?.error || 'An error occurred',\r\n        errors: data,\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Network error',\r\n    };\r\n  }\r\n}\r\n\r\n// Authentication API calls\r\nexport const authAPI = {\r\n  register: async (userData: {\r\n    username: string;\r\n    email: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    password: string;\r\n    password2: string;\r\n    role: string;\r\n  }): Promise<ApiResponse<AuthResponse>> => {\r\n    const response = await apiCall<AuthResponse>(\r\n      API_ENDPOINTS.REGISTER,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(userData),\r\n      },\r\n      false\r\n    );\r\n\r\n    if (response.success && response.data) {\r\n      setTokens({\r\n        access: response.data.access,\r\n        refresh: response.data.refresh,\r\n      });\r\n      localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    }\r\n\r\n    return response;\r\n  },\r\n\r\n  login: async (credentials: {\r\n    username: string;\r\n    password: string;\r\n  }): Promise<ApiResponse<AuthResponse>> => {\r\n    const response = await apiCall<AuthResponse>(\r\n      API_ENDPOINTS.LOGIN,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(credentials),\r\n      },\r\n      false\r\n    );\r\n\r\n    if (response.success && response.data) {\r\n      setTokens({\r\n        access: response.data.access,\r\n        refresh: response.data.refresh,\r\n      });\r\n      localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    }\r\n\r\n    return response;\r\n  },\r\n\r\n  logout: async (): Promise<ApiResponse> => {\r\n    const tokens = getTokens();\r\n    if (!tokens?.refresh) {\r\n      clearTokens();\r\n      return { success: true };\r\n    }\r\n\r\n    const response = await apiCall(\r\n      API_ENDPOINTS.LOGOUT,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({ refresh: tokens.refresh }),\r\n      },\r\n      true\r\n    );\r\n\r\n    clearTokens();\r\n    return response;\r\n  },\r\n\r\n  verify: async (): Promise<ApiResponse<AuthResponse>> => {\r\n    return apiCall<AuthResponse>(\r\n      API_ENDPOINTS.VERIFY,\r\n      { method: 'GET' },\r\n      true\r\n    );\r\n  },\r\n\r\n  refreshToken: async (): Promise<ApiResponse<{ access: string }>> => {\r\n    const tokens = getTokens();\r\n    if (!tokens?.refresh) {\r\n      return { success: false, error: 'No refresh token available' };\r\n    }\r\n\r\n    const response = await apiCall<{ access: string }>(\r\n      API_ENDPOINTS.REFRESH,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({ refresh: tokens.refresh }),\r\n      },\r\n      false\r\n    );\r\n\r\n    if (response.success && response.data?.access) {\r\n      setTokens({\r\n        access: response.data.access,\r\n        refresh: tokens.refresh,\r\n      });\r\n    }\r\n\r\n    return response;\r\n  },\r\n\r\n  getProfile: async (): Promise<ApiResponse<AuthUser>> => {\r\n    return apiCall<AuthUser>(\r\n      API_ENDPOINTS.PROFILE,\r\n      { method: 'GET' },\r\n      true\r\n    );\r\n  },\r\n\r\n  updateProfile: async (profileData: Partial<AuthUser>): Promise<ApiResponse<AuthUser>> => {\r\n    return apiCall<AuthUser>(\r\n      API_ENDPOINTS.PROFILE,\r\n      {\r\n        method: 'PUT',\r\n        body: JSON.stringify(profileData),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getCurrentUser: (): AuthUser | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    const user = localStorage.getItem('user');\r\n    return user ? JSON.parse(user) : null;\r\n  },\r\n\r\n  isAuthenticated: (): boolean => {\r\n    const tokens = getTokens();\r\n    return !!tokens?.access;\r\n  },\r\n};\r\n\r\n// Properties API calls\r\nexport const propertiesAPI = {\r\n  getAll: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.PROPERTIES, { method: 'GET' }, true);\r\n  },\r\n\r\n  create: async (propertyData: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.PROPERTIES,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(propertyData),\r\n      },\r\n      true\r\n    );\r\n  },\r\n};\r\n\r\n// Tenant API calls\r\nexport const tenantAPI = {\r\n  getAll: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.TENANTS, { method: 'GET' }, true);\r\n  },\r\n\r\n  create: async (tenantData: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.TENANTS,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(tenantData),\r\n      },\r\n      true\r\n    );\r\n  },\r\n};\r\n\r\n// Landlord API calls\r\nexport const landlordAPI = {\r\n  getListings: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.LANDLORD_LISTINGS, { method: 'GET' }, true);\r\n  },\r\n\r\n  createListing: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.LANDLORD_LISTINGS,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getPricing: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.LANDLORD_PRICING, { method: 'GET' }, true);\r\n  },\r\n\r\n  updatePricing: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.LANDLORD_PRICING,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getSchedules: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.LANDLORD_SCHEDULES, { method: 'GET' }, true);\r\n  },\r\n\r\n  createSchedule: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.LANDLORD_SCHEDULES,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getHistory: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.LANDLORD_HISTORY, { method: 'GET' }, true);\r\n  },\r\n\r\n  getAnalytics: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.LANDLORD_ANALYTICS, { method: 'GET' }, true);\r\n  },\r\n};\r\n\r\n// Service Provider API calls\r\nexport const serviceAPI = {\r\n  getMovers: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.SERVICE_MOVERS, { method: 'GET' }, true);\r\n  },\r\n\r\n  getBookings: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.SERVICE_BOOKINGS, { method: 'GET' }, true);\r\n  },\r\n\r\n  createBooking: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.SERVICE_BOOKINGS,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getMaintenance: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.SERVICE_MAINTENANCE, { method: 'GET' }, true);\r\n  },\r\n\r\n  createMaintenance: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.SERVICE_MAINTENANCE,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n\r\n  getStorage: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.SERVICE_STORAGE, { method: 'GET' }, true);\r\n  },\r\n\r\n  getInventory: async (): Promise<ApiResponse> => {\r\n    return apiCall(API_ENDPOINTS.SERVICE_INVENTORY, { method: 'GET' }, true);\r\n  },\r\n\r\n  createInventory: async (data: any): Promise<ApiResponse> => {\r\n    return apiCall(\r\n      API_ENDPOINTS.SERVICE_INVENTORY,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n      },\r\n      true\r\n    );\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/find-RLB/find-rlb/frontend/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { authAPI } from '../services/api';\r\n\r\nexport interface AuthUser {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  role: 'tenant' | 'landlord' | 'service_provider' | 'admin';\r\n  is_verified: boolean;\r\n  created_at: string;\r\n}\r\n\r\ninterface UseAuthReturn {\r\n  user: AuthUser | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  error: string | null;\r\n  login: (username: string, password: string) => Promise<void>;\r\n  register: (userData: any) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n  clearError: () => void;\r\n}\r\n\r\nexport const useAuth = (): UseAuthReturn => {\r\n  const [user, setUser] = useState<AuthUser | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Load user on mount\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        if (authAPI.isAuthenticated()) {\r\n          const currentUser = authAPI.getCurrentUser();\r\n          if (currentUser) {\r\n            setUser(currentUser);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to load user:', err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadUser();\r\n  }, []);\r\n\r\n  const login = useCallback(async (username: string, password: string) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await authAPI.login({ username, password });\r\n      if (response.success && response.data) {\r\n        setUser(response.data.user);\r\n      } else {\r\n        setError(response.error || 'Login failed');\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const register = useCallback(async (userData: any) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await authAPI.register(userData);\r\n      if (response.success && response.data) {\r\n        setUser(response.data.user);\r\n      } else {\r\n        setError(response.error || 'Registration failed');\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const logout = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      await authAPI.logout();\r\n      setUser(null);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  return {\r\n    user,\r\n    isLoading,\r\n    isAuthenticated: !!user,\r\n    error,\r\n    login,\r\n    register,\r\n    logout,\r\n    clearError,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAwBO,MAAM,UAAU;IACrB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAkB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAgB;IAElD,qBAAqB;IACrB,IAAA,gHAAS,EAAC;QACR,MAAM,WAAW;YACf,IAAI;gBACF,IAAI,mHAAO,CAAC,eAAe,IAAI;oBAC7B,MAAM,cAAc,mHAAO,CAAC,cAAc;oBAC1C,IAAI,aAAa;wBACf,QAAQ;oBACV;gBACF;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,wBAAwB;YACxC,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,kHAAW,EAAC,OAAO,UAAkB;QACjD,aAAa;QACb,SAAS;QACT,IAAI;YACF,MAAM,WAAW,MAAM,mHAAO,CAAC,KAAK,CAAC;gBAAE;gBAAU;YAAS;YAC1D,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACrC,QAAQ,SAAS,IAAI,CAAC,IAAI;YAC5B,OAAO;gBACL,SAAS,SAAS,KAAK,IAAI;YAC7B;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF,GAAG,EAAE;IAEL,MAAM,WAAW,IAAA,kHAAW,EAAC,OAAO;QAClC,aAAa;QACb,SAAS;QACT,IAAI;YACF,MAAM,WAAW,MAAM,mHAAO,CAAC,QAAQ,CAAC;YACxC,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACrC,QAAQ,SAAS,IAAI,CAAC,IAAI;YAC5B,OAAO;gBACL,SAAS,SAAS,KAAK,IAAI;YAC7B;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,IAAA,kHAAW,EAAC;QACzB,aAAa;QACb,SAAS;QACT,IAAI;YACF,MAAM,mHAAO,CAAC,MAAM;YACpB,QAAQ;QACV,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,kHAAW,EAAC;QAC7B,SAAS;IACX,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/find-RLB/find-rlb/frontend/pages/login.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport Link from 'next/link';\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const { login, isLoading, error, clearError } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    clearError();\r\n    \r\n    try {\r\n      await login(formData.username, formData.password);\r\n      // Redirect based on role after successful login\r\n      router.push('/');\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Sign In</h1>\r\n        <p className=\"text-gray-600 mb-6\">Welcome to FIND-RLB Real Estate Economy</p>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-red-800 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter your username\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder=\"Enter your password\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-200 disabled:opacity-50\"\r\n          >\r\n            {isLoading ? 'Signing in...' : 'Sign In'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-gray-600 text-sm\">\r\n            Don't have an account?{' '}\r\n            <Link href=\"/register\" className=\"text-blue-600 hover:underline font-semibold\">\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"mt-6 border-t pt-6\">\r\n          <p className=\"text-center text-gray-500 text-xs mb-4\">Demo Credentials</p>\r\n          <div className=\"bg-gray-50 p-3 rounded text-sm space-y-1\">\r\n            <p><strong>Tenant:</strong> tenant1 / password123</p>\r\n            <p><strong>Landlord:</strong> landlord1 / password123</p>\r\n            <p><strong>Service:</strong> service1 / password123</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,wIAAS;IACxB,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,IAAA,oHAAO;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;QACvC,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB;QAEA,IAAI;YACF,MAAM,MAAM,SAAS,QAAQ,EAAE,SAAS,QAAQ;YAChD,gDAAgD;YAChD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB;QAChC;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,qKAAC;oBAAE,WAAU;8BAAqB;;;;;;gBAEjC,uBACC,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;8BAIzC,qKAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,qKAAC;;8CACC,qKAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,qKAAC;oCACC,MAAK;oCACL,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU;oCACV,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIZ,qKAAC;;8CACC,qKAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,qKAAC;oCACC,MAAK;oCACL,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU;oCACV,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIZ,qKAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,YAAY,kBAAkB;;;;;;;;;;;;8BAInC,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAE,WAAU;;4BAAwB;4BACZ;0CACvB,qKAAC,gIAAI;gCAAC,MAAK;gCAAY,WAAU;0CAA8C;;;;;;;;;;;;;;;;;8BAMnF,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,WAAU;sCAAyC;;;;;;sCACtD,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;;sDAAE,qKAAC;sDAAO;;;;;;wCAAgB;;;;;;;8CAC3B,qKAAC;;sDAAE,qKAAC;sDAAO;;;;;;wCAAkB;;;;;;;8CAC7B,qKAAC;;sDAAE,qKAAC;sDAAO;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}}]
}